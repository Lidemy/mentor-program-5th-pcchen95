## 什麼是 MVC？
MVC 的全名是 `Model-View-Controller`，也就是由這三種元素構成的一種網頁或軟體開發的設計模型，能將程式開發過程的行為步驟做更清楚的分工。

```
- Model
負責資料的處理。從 Controller 接收查詢資料條件的請求，由 Model 直接去跟資料庫拿資料，並回傳給 Controller。
```
request &uarr; &darr; data

```
- Controller
作為 Model 和 View 間的溝通橋樑。Request 會先傳送給 Controller，Controller 接收後再根據 request 的條件要求 Models 提取資料庫資料，拿到資料後再轉給 View 去做頁面的渲染。View 完成工作後，Controller 回傳 Response，即完成整個過程。
```

 data &darr; &uarr; response
 
```
- View
負責網頁外觀的渲染。從 Controller 接收到所需的資料後，把資料顯示在原本的網頁模版上，之後回傳 Response 給 Controller 告知工作已完成。
```

MVC 大概類似公司部門裡的運作狀況，Controller 就像部門裡的老闆，外單位提了一個需求給老闆後，老闆再把工作拆成小單位分派給負責的人員，負責的單位只需要完成自己的部分就好，互不干擾，管理上也更容易。


## 請寫下這週部署的心得

首先在進行這週課程的過程中，覺得這週的資訊量好大，除了前面的 Express 和 Sequelize 都剛接觸，需要花很多時間消化課程的示範；到了部署的部分時，也碰到許多困難，導致挫折感滿滿。第一個大挫折是 nginx，在遠端部署 nginx 的部分目前沒有成功完成，還沒辦法順利讓程式跑起來，即使像影片裡示範的一樣開了 3001 Port 的防火牆，連線 3001 Port 仍然沒有成功。用了 `sudo netstat -plant` 查詢後發現 3001 Port 只有顯示 tcp6 的監控，不確定是不是這個原因、和其解決方式，但覺得進度也許會來不及因此先暫時跳過，之後再繼續來解決。

>更新：已經成功完成在不同 Port 上的部署了，剛開始直接在網址後面加上 `:3001` 去跑沒有成功，可能是檔案路徑的關係。後來繼續往下做，跟著文章和影片的示範設定不同名稱網域對應不同 Port，就有成功部署上去了。

經過一段時間研究 nginx 後再換到 heroku 覺得真的使用上簡單很～多，也比 Week14 買虛擬主機、買網域的設定來得方便。雖然一開始剛接觸 Express + Sequelize 後又加上 heroku 整個很混亂，但寫完作業後開始比較了解各個工具的作用跟使用方法後，接著直接部署在 heroku 上，用很快的時間就完成了，還可以省去額外建立資料庫的動作。雖然中間還是有一度卡一陣子，後來發現只是漏掉在程式裡幫 Port 設定環境變數，解決這個問題後使用起來就沒遇到什麼大問題了，覺得 heroku 真的比較簡單好用。

## 寫 Node.js 的後端跟之前寫 PHP 差滿多的，有什麼心得嗎？

用 Node.js 和 PHP 我覺得差異比較大的就是入門的難易度和需不需要直接寫 SQL query 這兩點。入門難易度我認為 PHP 比較容易，因為架構沒分這麼細，寫起來很直觀，一個功能就只要寫在一個檔案裡，再藉由檔案路徑去連接；但這週寫 Node.js 剛開始真的覺得很複雜，一個 js 檔案裡就放了一大堆功能完全眼花繚亂。後來在寫作業的同時，慢慢感受到用 Node.js 寫在整體結構上比 PHP 清楚很多，要看不同網址的功能就只要固定到 controller 裡面找、要看頁面就去 view，比之前寫 PHP 開了好多個檔案簡潔很多，網址也不會受檔案名稱路徑影響。

另外一個差異點是省略寫 SQL query，以前寫 PHP 有一大部分的篇幅都是在寫連接資料庫、下 query 指令、加入參數、執行 query、拿結果這些程式碼，但現在這些全部都由 model 幫忙處理了，我們只需要給參數就好。雖然一開始覺得寫 query 指令也沒多麻煩，但有了 Sequelize 的幫助就可以省略一大堆每次要跟資料庫拿資料都要寫的程式碼，也不會受可能會寫錯 query 指令所困擾（例如之前就很常寫錯指令順序，需要先去資料庫試跑確認）。

整體來說，我覺得 Node.js 的寫法在初期需要比較多時間去熟悉和了解架構及運作方式，但比較熟了之後，後續的維護、程式易讀性都比 PHP 好，這些都是在寫完作業後才體會到為什麼老師在課程中一直說它方便簡潔。